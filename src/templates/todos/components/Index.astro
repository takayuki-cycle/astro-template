---
import { fetchTodos } from '@/templates/todos/api'
import RadioGroupOrTabs from '@/components/radioGroupOrTabs/RadioGroupOrTabs.astro'
import { Button } from '@/components/button/Button'
import { css } from '@/../styled-system/css'

const todos = await fetchTodos()
const titles = todos.map((todo) => todo.title)
const testCSS = css({ flexDir: 'column' })
---

<div>
  <h1>タスク一覧</h1>
  <RadioGroupOrTabs
    sx={{ type: 'tab', orientation: 'horizontal' }}
    label='果物'
    group={titles}
    apiKey='fruit'
  >
    <section class={testCSS}>
      <p>SECTION 1</p>
      <p>11111</p>
    </section>
    <section class={testCSS}>
      <p>SECTION 2</p>
      <p>22222</p>
      <p>22222</p>
    </section>
    <section class={testCSS}>
      <p>SECTION 3</p>
      <p>33333</p>
      <p>33333</p>
      <p>33333</p>
    </section>
    <section class={testCSS}>
      <p>SECTION 4</p>
      <p>44444</p>
      <p>44444</p>
    </section>
    <section class={testCSS}>
      <p>SECTION 5</p>
      <p>55555</p>
    </section>
  </RadioGroupOrTabs>
  <Button client:load />
</div>
